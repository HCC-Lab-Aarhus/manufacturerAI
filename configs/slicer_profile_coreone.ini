# PrusaSlicer CLI overrides — Prusa Core One+ HF0.4
# Applied on top of the built-in "0.20mm BALANCED @COREONE HF0.4" profile.
# Generated by ManufacturerAI — edit freely.

# --- Output format ---
# Force ASCII G-code so our postprocessor can do text manipulation.
# The pipeline converts the staged .gcode → .bgcode afterwards,
# so the printer receives native binary G-code with no warnings.
binary_gcode = 0

# --- Settings IDs (must match built-in profile names) ---
printer_settings_id = Prusa CORE One HF0.4 nozzle
print_settings_id = 0.20mm BALANCED @COREONE HF0.4
filament_settings_id = Prusament PLA @COREONE HF0.4

# --- Thumbnails (displayed on the Core One screen) ---
thumbnails = 16x16/PNG, 220x124/PNG
thumbnails_format = PNG

# --- Support ---
# Disabled: the enclosure geometry prints cleanly without supports.
# PrusaSlicer handles overhangs via bridging and overhang perimeters.
support_material = 0

# --- Travel / retraction improvements ---
# Wipe nozzle before retraction to reduce ooze blob
wipe = 1
# Route travel moves around already-printed perimeters
# (prevents nozzle from scraping across printed surfaces)
avoid_crossing_perimeters = 1
avoid_crossing_perimeters_max_detour = 0
# Align Z-seam so layer start/stop blobs form a single
# line instead of random dots across the surface
seam_position = aligned
# Disable travel ramping (diagonal Z-ramp); use a clean Z-hop instead
# so the nozzle lifts before traveling and doesn't drag across the surface
travel_ramping_lift = 0
filament_travel_ramping_lift = 0
# ----- Anti-stringing for HF 0.4 nozzle (230 °C, large melt zone) -----
# Z-lift 0.8mm — keeps any ooze well above the printed surface
retract_lift = 0.8
filament_retract_lift = 0.8
# Retraction 2.0mm — HF nozzle needs aggressive retraction
# (safe for direct-drive, well under the ~4mm grinding limit)
retract_length = 2.0
filament_retract_length = 2.0
# Faster retract speed — 60 mm/s (default 45) so filament pulls back
# before the nozzle starts traveling
retract_speed = 60
filament_retract_speed = 60
# Slight negative restart extra — relieves residual pressure
# so the nozzle doesn't blob on landing after a travel move
retract_restart_extra = -0.02
filament_retract_restart_extra = -0.02

# --- Temperature ---
# The built-in "Prusament PLA @COREONE HF0.4" profile defaults to 230 °C.
# Lowering to 215 °C significantly reduces ooze/stringing while still
# being well within PLA's printable range for the HF 0.4 nozzle.
temperature = 215
first_layer_temperature = 220
filament_first_layer_temperature = 220
filament_temperature = 215

# --- Retraction refinements ---
# Retract 70 % of the distance *before* the wipe move so the full
# retraction completes even if the wipe path is short.  Without this,
# short wipes leave partial retraction → net positive E accumulation.
retract_before_wipe = 70%
filament_retract_before_wipe = 70%

# --- Ironing ---
ironing = 1
ironing_type = top
ironing_flowrate = 15%
ironing_speed = 15
ironing_spacing = 0.1
